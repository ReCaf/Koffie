chille site die alle stappen doorloopt in R https://towardsdatascience.com/predict-customer-churn-with-r-9e62357d47b4



# remove columns with only NA
train.new = train[,-c(5,10,11,13,15:23,29,31:36,39,40,45,49:55)] 
#transform region not avaible in demo data set and not set in to NA
train.new$region = as.factor(mapvalues(train.new$region, from=c("not available in demo dataset"), to=c(NA)))
train.new$region = as.factor(mapvalues(train.new$region, from=c("(not set)"), to=c(NA)))
#transform city not avaible in demo data set and not set in to NA
train.new$city = as.factor(mapvalues(train.new$city, from=c("not available in demo dataset"), to=c(NA)))
train.new$city = as.factor(mapvalues(train.new$city, from=c("(not set)"), to=c(NA)))
#transform continent (not set) to NA
train.new$continent = as.factor(mapvalues(train.new$continent, from=c("(not set)"), to=c(NA)))
#transform campaing (not set) to NA
train.new$campaign = as.factor(mapvalues(train.new$campaign, from=c("(not set)"), to=c(NA)))
#transform medium (none) and (not set) to NA
train.new$medium = as.factor(mapvalues(train.new$medium, from=c("(not set)"), to=c(NA)))
train.new$medium = as.factor(mapvalues(train.new$medium, from=c("(none)"), to=c(NA)))


------

#Date split / Time split
train <- transform(train, Year = substr(date, 1, 4), Month = substr(date, 5, 6), Day = substr(date, 7,8), Time = substr(anytime(visitStartTime),12,19))

#Daypart: Night, Morning, Afternoon, Evening
levels <- c(00,6,12,18,Inf)
labels <- c("Night", "Morning", "Afternoon", "Evening")
train <- mutate(train, Day_Part = cut(as.numeric(substr(Time,1,2)), levels, labels = labels))
train$Day_Part[is.na(train$Day_Part)] <- "Night"

#Weekday
train$date <- paste(train$Year, train$Month, train$Day, sep = "-")
train$weekday <- factor(weekdays(as.Date(train$date), abbreviate = F))

